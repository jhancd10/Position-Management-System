<h2 mat-dialog-title>{{ data.isEdit ? "Edit" : "Create" }} Department</h2>

<form [formGroup]="departmentForm" (ngSubmit)="onSubmit()">
  
  <mat-dialog-content>
    <mat-form-field appearance="fill" class="full-width">
      
      <mat-label>Name</mat-label>

      <input matInput formControlName="name" placeholder="Department name" />
      
      @if (departmentForm.get('name')?.hasError('required')) {
        <mat-error>
          Name is required
        </mat-error>
      }
      
      @else if (departmentForm.get('name')?.hasError('minlength')) {
        <mat-error>
          Name must be at least 3 characters long
        </mat-error>
      }

      @else if (departmentForm.get('name')?.hasError('maxLength')) {
        <mat-error>
          Name must be max. 100 characters long
        </mat-error>
      }

      @else if (departmentForm.get('name')?.hasError('pattern')) {
        <mat-error>
          Name is not valid
        </mat-error>
      }

    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" [mat-dialog-close]="false">Cancel</button>
    <button
      mat-raised-button
      type="submit"
      [disabled]="!departmentForm.valid"
    >
      {{ data.isEdit ? "Update" : "Create" }}
    </button>
  </mat-dialog-actions>

</form>
