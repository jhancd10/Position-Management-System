# PositionManagement

## Project Overview

**PositionManagement** is a Clean Architecture solution built with .NET 8 that provides a modular, maintainable system for managing job positions with full CRUD operations. It uses:

- **CQRS** via MediatR for commands and queries
- **FluentValidation** for request validation
- **EF Core In-Memory** for persistence during development and testing
- **Global exception handling** and security middlewares
- **Pipeline behaviors** for logging and performance metrics
- **Dependency injection extensions** for modular setup

## Repository Structure

```
Backend/                            ⬅ Root folder
│
├── PositionManagement.sln         ⬅ .NET solution file
│
├── Source/                        ⬅ Application source code
│   ├── PositionManagement.Api/         ⬅ Web API project
│   │   • Controllers and endpoints
│   │   • `DefaultWebApplication` startup orchestration
│   │
│   ├── PositionManagement.Application/ ⬅ Application layer
│   │   • Pipeline behaviors (LoggingBehavior, TimingBehavior)
│   │   • MediatR and validation DI extensions
│   │
│   ├── PositionManagement.Domain/      ⬅ Domain layer
│   │   • Core entities (Position, Recruiter, Department)
│   │   • Enums (PositionStatusEnum)
│   │
│   ├── PositionManagement.Infrastructure/ ⬅ Infrastructure layer
│   │   • `PositionManagementDbContext` with EF Core mappings
│   │   • Filters & Swagger extensions (`ApiKeyHeader`)
│   │   • Middlewares (ExceptionHandlingMiddleware, ApiKeyMiddleware)
│   │   • DI & WebApplication builder extensions (Swagger, WebApi, CORS, DbContext, Logging, Middleware)
│   │   • `DefaultWebApplication` helper
│   │
│   └── PositionManagement.Shared/      ⬅ Shared layer
│       • Common models (ApiKey)
│       • Shared exceptions and helpers (NotFoundException, ExceptionHelper)
│
└── Tests/                         ⬅ Unit and integration tests
```

## Prerequisites

- [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0) installed
- An IDE or editor (Visual Studio, VS Code, etc.)

## Key Features

- **Clean Architecture**: clear separation between API, Application, Domain, Infrastructure, and Shared layers.
- **Global Exception Handling**: centralized middleware translating exceptions to HTTP responses (400, 401, 403, 404, 500).  
- **API Key Security**: custom middleware requiring `X-API-KEY` header validated against configuration.  
- **EF Core In-Memory**: in-memory database for fast setup, ideal for local development and tests.  
- **Pipeline Behaviors**: LoggingBehavior logs request start/end; TimingBehavior measures execution time.  
- **Extension Methods**: modular DI setup for MediatR, FluentValidation, EF Core, Swagger, CORS, logging, middleware.  
- **Domain Entities**: `Position`, `Recruiter`, `Department` with auto-generated GUIDs and navigation properties for `.Include()` queries.  

## Configuration

- **appsettings.json** contains:
  - `ApiKey` section with `Header` and `Key` values
  - Logging levels for console output

- **Automatic GUIDs**: primary keys generated by `Guid.NewGuid()` in domain constructors.
- **String Constraints**: max length enforced in EF Core model configurations.

## Conventions

- Projects and namespaces named `PositionManagement.{Layer}`.
- Middleware under `Source/PositionManagement.Infrastructure/Middleware`.
- DI extensions under `DependencyInjection/Extensions` folders.

---

2025 Jhan Carlos del Rio — Senior Full Stack Developer
